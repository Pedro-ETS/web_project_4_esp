!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupClass=e,this._selectPopup=document.querySelector(".".concat(this._popupClass)),this._closeButton=this._selectPopup.querySelector(".".concat(this._popupClass,"__btn-close")),this._handleEscClose=this._handleEscClose.bind(this)}var n,r;return n=t,(r=[{key:"open",value:function(){this._selectPopup.classList.add("".concat(this._popupClass,"_opened")),document.addEventListener("keyup",this._handleEscClose),this.setEventListeners()}},{key:"close",value:function(){this._selectPopup.classList.remove("".concat(this._popupClass,"_opened")),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._closeButton.addEventListener("click",(function(){t.close()})),this._selectPopup.addEventListener("click",(function(e){e.target.classList.contains(t._popupClass)&&t.close()}))}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},i.apply(this,arguments)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(p,t);var e,n,c,s,l=(c=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(c);if(s){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(n=l.call(this,t))._card=e,n._elementName=document.querySelector(".".concat(n._popupClass,"__lugar")),n._elementImg=document.querySelector(".".concat(n._popupClass,"__image-normal")),n}return e=p,(n=[{key:"open",value:function(){i(u(p.prototype),"open",this).call(this);var t=this._card.target.getAttribute("src"),e=this._card.target.getAttribute("alt"),n=e.substring(9,e.leng);this._elementImg.setAttribute("src",t),this._elementImg.setAttribute("alt","imagen de "+n),this._elementName.textContent=n}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),p}(n),s=document.querySelector(".container"),l=s.querySelector(".edit-button_action_add"),p=(s.querySelector(".popup"),s.querySelector(".popup-add"),s.querySelector(".popup__btn-close"),s.querySelector(".popup-add__btn-close"),s.querySelector(".add-button")),f=(s.querySelector(".big-picture"),".cards"),d=(s.querySelector(".elements"),document.forms.popupadd,document.querySelector("#popup-name")),y=document.querySelector("#popup-descripcion"),m=s.querySelector(".profile__content"),_=s.querySelector(".profile__content-fond"),h=s.querySelector(".profile__btn-edit"),b=(s.querySelector(".popup-edit-img"),s.querySelector(".profile__subtitle")),v=s.querySelector(".profile__text"),g=s.querySelector(".profile__content");function S(t,e){document.querySelector(e).textContent=".popup-confirm-deletion__btn-delete"===e?t?"Eliminando tarjeta...":"si":t?"Guardando...":"Guardar"}function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q(r.key),r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},w.apply(this,arguments)}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function q(t){var e=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===C(e)?e:String(e)}s.querySelector(".card");var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(o){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}(this,t)});function a(t,e){var n,r,o,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r=E(n=i.call(this,t)),u=function(t){t.preventDefault(),"popup-confirm-deletion"===n._popupClass?S(!0,".".concat(n._popupClass,"__btn-delete")):S(!0,".".concat(n._popupClass,"__btn-save")),n.sendObject()},(o=q(o="submitHandler"))in r?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,n._submitCallback=e,n._form=document.querySelector(".".concat(n._popupClass)),n}return e=a,(n=[{key:"_getInputValues",value:function(){var t=this;return this._inputList=this._form.querySelectorAll(".".concat(this._popupClass,"__input")),this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"sendObject",value:function(){var t=this._getInputValues();this._submitCallback(t)}},{key:"setEventListeners",value:function(){w(P(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this.submitHandler)}},{key:"close",value:function(){this._form.removeEventListener("submit",this.submitHandler),w(P(a.prototype),"close",this).call(this),this._form.classList.contains("popup-add")&&this._form.reset()}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(n);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==T(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===T(o)?o:String(o)),r)}var o}var I=function(){function t(e){var n=e.baseUrl,r=e.headers,o=e.datos;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=n,this._authorization=r.authorization,this._contentType=r["Content-Type"],this._datos=o}var e,n;return e=t,(n=[{key:"getInitialCards",value:function(){return fetch(this._url,{headers:{authorization:this._authorization,"Content-Type":this._contentType}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}))}},{key:"setCard",value:function(){return fetch(this._url,{method:"POST",body:JSON.stringify({link:this._datos.link,name:this._datos.name}),headers:{authorization:this._authorization,"Content-Type":this._contentType}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}))}},{key:"likeCard",value:function(){return fetch(this._url,{method:"PUT",headers:{authorization:this._authorization,"Content-Type":this._contentType}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}))}},{key:"deleteCard",value:function(){return fetch(this._url,{method:"DELETE",headers:{authorization:this._authorization,"Content-Type":this._contentType}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}))}},{key:"getUser",value:function(){return fetch(this._url,{headers:{authorization:this._authorization,"Content-Type":this._contentType}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}))}},{key:"modifyUser",value:function(){return fetch(this._url,{method:"PATCH",body:JSON.stringify({about:this._datos.about,name:this._datos.name}),headers:{authorization:this._authorization,"Content-Type":this._contentType}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}))}},{key:"modifyImgUser",value:function(){return fetch(this._url,{method:"PATCH",body:JSON.stringify({avatar:this._datos.avatar}),headers:{authorization:this._authorization,"Content-Type":this._contentType}}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}))}}])&&L(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===F(o)?o:String(o)),r)}var o}var z=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._idImg=e._id,this._idUser=e.owner._id,this._nameUser=e.owner.name,this._likes=e.likes,this._cardSelector=n,this._handleCardClick=this.handleCardClick}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".card__btn-trash").setAttribute("data-user-name",this._nameUser),this._element.querySelector(".card__image").setAttribute("id-card-img",this._idImg),this._element.querySelector(".card__image").setAttribute("src",this._link),this._element.querySelector(".card__image").setAttribute("alt","Imagen de "+this._name),this._element.querySelector(".card__subtitle").textContent=this._name,this._element.querySelector(".card__like-number").textContent=this._likes.length,null==this._likes.find((function(t){return t.name===document.querySelector(".profile__subtitle").textContent}))?console.log():this._element.querySelector(".card__btn-love").classList.add("card__btn-love_activate"),this._element}},{key:"_likeCardApiRequest",value:function(){var t=this,e=this._element.querySelector(".card__image").getAttribute("id-card-img");new I({baseUrl:"https://around.nomoreparties.co/v1/web_es_09/cards/likes/"+e,headers:{authorization:"33adefcc-a71e-4103-8764-faa4d26a6099","Content-Type":"application/json"}}).likeCard().then((function(e){0!==e.likes.length&&(t._element.querySelector(".card__like-number").style.display="block"),t._element.querySelector(".card__like-number").textContent=e.likes.length})).catch((function(t){alert("Error al dar me gusta:",t)}))}},{key:"_removeLikeApiRequest",value:function(){var t=this,e=this._element.querySelector(".card__image").getAttribute("id-card-img");new I({baseUrl:"https://around.nomoreparties.co/v1/web_es_09/cards/likes/"+e,headers:{authorization:"33adefcc-a71e-4103-8764-faa4d26a6099","Content-Type":"application/json"}}).deleteCard().then((function(e){0===e.likes.length&&(t._element.querySelector(".card__like-number").style.display="none"),t._element.querySelector(".card__like-number").textContent=e.likes.length})).catch((function(t){alert("Error no se pudo quitar like:",t)}))}},{key:"_toggleLike",value:function(t){t.target.classList.toggle("card__btn-love_activate"),t.target.classList.contains("card__btn-love_activate")?this._likeCardApiRequest():this._removeLikeApiRequest()}},{key:"_deleteCardApiRequest",value:function(t){return new I({baseUrl:"https://around.nomoreparties.co/v1/web_es_09/cards/"+t.getAttribute("id-card-img"),headers:{authorization:"33adefcc-a71e-4103-8764-faa4d26a6099","Content-Type":"application/json"}}).deleteCard()}},{key:"_trashCard",value:function(t){var e=this,n=new O("popup-confirm-deletion",(function(r){var o=t.target.nextElementSibling;e._deleteCardApiRequest(o).then((function(e){t.target.parentNode.remove()})).catch((function(t){alert("Error no se pudo eliminar la tarjeta",t)})).finally((function(){S(!1,".popup-confirm-deletion__btn-delete"),n.close()}))}));n.open()}},{key:"_displayContainerImage",value:function(t){openWindowContentImage(t),document.addEventListener("keyup",closeWindowdEsc)}},{key:"handleCardClick",value:function(t){new c("big-picture",t).open()}},{key:"_setEventListeners",value:function(){var t=this;this._element.addEventListener("click",(function(e){e.target.classList.contains("card__btn-love")?t._toggleLike(e):e.target.classList.contains("card__btn-trash")?t._trashCard(e):e.target.classList.contains("card__image")&&t.handleCardClick(e)}))}}])&&x(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}var U=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formSelector=n,this._inputSelectorForm=e.inputSelectorForm,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClassForm=e.inactiveButtonClassForm,this._inputErrorClassForm=e.inputErrorClassForm,this._errorClassForm=e.errorClassForm}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t,e,n){var r=t.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClassForm),r.classList.add(this._errorClassForm),r.textContent=n}},{key:"_hideInputError",value:function(t,e){var n=t.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClassForm),n.classList.remove(this._errorClassForm),n.textContent=""}},{key:"_checkInputValidity",value:function(t,e){e.validity.valid?this._hideInputError(t,e):this._showInputError(t,e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(t){return t.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(t,e){this._hasInvalidInput(t)?(e.classList.add(this._inactiveButtonClassForm),e.disabled=!0):(e.classList.remove(this._inactiveButtonClassForm),e.disabled=!1)}},{key:"_setEventListeners",value:function(){var t=this,e=document.querySelector(this._formSelector),n=Array.from(e.querySelectorAll(this._inputSelectorForm)),r=e.querySelector("button[type=submit]");(".popup-add__btn-save"===".".concat(r.className)||".popup-edit-img__btn-save"===".".concat(r.className))&&this._toggleButtonState(n,r),n.forEach((function(o){o.addEventListener("input",(function(i){t._checkInputValidity(e,o),t._toggleButtonState(n,r)}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}var N=function(){function t(e,n){var r=e.data,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.append(t)}},{key:"renderItems",value:function(){var t=this;this._container.innerHTML="",this._renderedItems.forEach((function(e){t._renderer(e)}))}}])&&V(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}var J=function(){function t(e){var n=e.nameSelector,r=e.jobSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nameElement=document.querySelector(n),this.jobElement=document.querySelector(r)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this.nameElement.textContent,about:this.jobElement.textContent}}},{key:"setUserInfo",value:function(t){this.nameElement.textContent=t.name,this.jobElement.textContent=t.about}}])&&H(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),G=new U({inputSelectorForm:".popup__input",submitButtonSelectorForm:".popup__btn-save",inactiveButtonClassForm:"popup__btn-save_disabled",inputErrorClassForm:"popup__input_type_error",errorClassForm:"popup__input-error_active"},".popup"),M=new U({inputSelectorForm:".popup-add__input",submitButtonSelectorForm:".popup-add__btn-save",inactiveButtonClassForm:"popup-add__btn-save_disabled",inputErrorClassForm:"popup-add__input_type_error",errorClassForm:"popup-add__input-error_active"},".popup-add"),W=new U({inputSelectorForm:".popup-edit-img__input",submitButtonSelectorForm:".popup-edit-img__btn-save",inactiveButtonClassForm:"popup-edit-img__btn-save_disabled",inputErrorClassForm:"popup-edit-img__input_type_error",errorClassForm:"popup-edit-img__input-error"},".popup-edit-img"),K=new J({nameSelector:".profile__subtitle",jobSelector:".profile__text"}),Q=new I({baseUrl:"https://around.nomoreparties.co/v1/web_es_09/cards",headers:{authorization:"33adefcc-a71e-4103-8764-faa4d26a6099","Content-Type":"application/json"}});function X(){Q.getInitialCards().then((function(t){!function(t){var e=new N({data:t,renderer:function(t){var n=new z(t,".card-template").generateCard(),r=n.querySelector(".card__btn-trash").getAttribute("data-user-name"),o=n.querySelector(".card__like-number").textContent;b.textContent!==r&&(n.querySelector(".card__btn-trash").style.display="none"),0==o&&(n.querySelector(".card__like-number").style.display="none"),e.addItem(n)}},f);e.renderItems()}(t)})).catch((function(t){alert("Error al cargar la información de las tarjetas:",t)}))}new I({baseUrl:"https://around.nomoreparties.co/v1/web_es_09/users/me",headers:{authorization:"33adefcc-a71e-4103-8764-faa4d26a6099","Content-Type":"application/json"}}).getUser().then((function(t){b.textContent=t.name,v.textContent=t.about,g.style.backgroundImage="url('".concat(t.avatar,"')")})).catch((function(t){alert("Error al cargar la información del usuario:",t)})),X();var Y=new O("popup-add",(function(t){new I({baseUrl:"https://around.nomoreparties.co/v1/web_es_09/cards",headers:{authorization:"33adefcc-a71e-4103-8764-faa4d26a6099","Content-Type":"application/json"},datos:{link:t.link,name:t.name}}).setCard().then((function(t){X()})).catch((function(t){alert("Error al enviar la tarjeta no se pudo cargar:",t)})).finally((function(){S(!1,".popup-add__btn-save"),Y.close()}))})),Z=new O("popup",(function(t){new I({baseUrl:"https://around.nomoreparties.co/v1/web_es_09/users/me",headers:{authorization:"33adefcc-a71e-4103-8764-faa4d26a6099","Content-Type":"application/json"},datos:{about:t.about,name:t.name}}).modifyUser().then((function(t){K.setUserInfo(t)})).catch((function(t){alert("Lo siento no se pudo modificar la informacion:"+t)})).finally((function(){S(!1,".popup__btn-save"),Z.close()}))})),$=new O("popup-edit-img",(function(t){new I({baseUrl:"https://around.nomoreparties.co/v1/web_es_09/users/me/avatar",headers:{authorization:"33adefcc-a71e-4103-8764-faa4d26a6099","Content-Type":"application/json"},datos:{avatar:t.link}}).modifyImgUser().then((function(t){g.style.backgroundImage="url('".concat(t.avatar,"')")})).catch((function(t){alert("Lo siento ocurrio un error:"+t)})).finally((function(){S(!1,".popup-edit-img__btn-save"),$.close()}))}));l.addEventListener("click",(function(){var t=K.getUserInfo();d.value=t.name,y.value=t.about,Z.open(),G.enableValidation()})),p.addEventListener("click",(function(){Y.open(),M.enableValidation()})),h.addEventListener("click",(function(){$.open(),W.enableValidation()})),m.onmouseover=function(){_.classList.add("profile__content-fond_opened")},m.onmouseout=function(){_.classList.remove("profile__content-fond_opened")}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q25DK00sRUFBVTFFLE9BQ1Z5RCxFQUFTMkIsa0JBQ1gsSUFDQWxMLEVBQWtCdkMsaUJBQWlCLFNBQVMsV0FDMUNxTixFQUFhaEYsT0FDYjBELEVBQVkwQixrQkFDZCxJQUNBcEwsRUFBYXFMLFlBQWMsV0FDekJwTCxFQUFleEMsVUFBVUMsSUFBSSwrQkFDL0IsRUFDQXNDLEVBQWFzTCxXQUFhLFdBQ3hCckwsRUFBZXhDLFVBQVVJLE9BQU8sK0JBQ2xDLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3BhZ2UvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RQb3B1cCkge1xuICAgIHRoaXMuX3BvcHVwQ2xhc3MgPSBzZWxlY3RQb3B1cDtcbiAgICB0aGlzLl9zZWxlY3RQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuX3BvcHVwQ2xhc3N9YCk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9zZWxlY3RQb3B1cC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLl9wb3B1cENsYXNzfV9fYnRuLWNsb3NlYCk7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fc2VsZWN0UG9wdXAuY2xhc3NMaXN0LmFkZChgJHt0aGlzLl9wb3B1cENsYXNzfV9vcGVuZWRgKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9zZWxlY3RQb3B1cC5jbGFzc0xpc3QucmVtb3ZlKGAke3RoaXMuX3BvcHVwQ2xhc3N9X29wZW5lZGApO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZWxlY3RQb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuX3BvcHVwQ2xhc3MpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RQb3B1cCwgZXZ0KSB7XG4gICAgc3VwZXIoc2VsZWN0UG9wdXApO1xuICAgIHRoaXMuX2NhcmQgPSBldnQ7XG4gICAgdGhpcy5fZWxlbWVudE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLl9wb3B1cENsYXNzfV9fbHVnYXJgKTtcbiAgICB0aGlzLl9lbGVtZW50SW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5fcG9wdXBDbGFzc31fX2ltYWdlLW5vcm1hbGBcbiAgICApO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIGNvbnN0IGxpbmsgPSB0aGlzLl9jYXJkLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7XG4gICAgY29uc3QgYWx0ID0gdGhpcy5fY2FyZC50YXJnZXQuZ2V0QXR0cmlidXRlKFwiYWx0XCIpO1xuICAgIGNvbnN0IGNpdHkgPSBhbHQuc3Vic3RyaW5nKDksIGFsdC5sZW5nKTtcbiAgICB0aGlzLl9lbGVtZW50SW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBsaW5rKTtcbiAgICB0aGlzLl9lbGVtZW50SW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcImltYWdlbiBkZSBcIiArIGNpdHkpO1xuICAgIHRoaXMuX2VsZW1lbnROYW1lLnRleHRDb250ZW50ID0gY2l0eTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xuZXhwb3J0IGNvbnN0IGJ0bkVkaXRhclByb2ZpbGUgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5lZGl0LWJ1dHRvbl9hY3Rpb25fYWRkXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBcIik7XG5leHBvcnQgY29uc3QgcG9wdXBBZGRDYXJkID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtYWRkXCIpO1xuZXhwb3J0IGNvbnN0IGJ0bkNsb3NlID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J0bi1jbG9zZVwiKTtcbmV4cG9ydCBjb25zdCBidG5DbG9zZVdpbmRvd0FkZENhcmQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1hZGRfX2J0bi1jbG9zZVwiKTtcbmV4cG9ydCBjb25zdCBidG5BZGRDYXJkID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBjb250ZW50QmlnUGljdHVyZSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmJpZy1waWN0dXJlXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRzID0gXCIuY2FyZHNcIjtcbmV4cG9ydCBjb25zdCBlbGVtZW50cyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xuZXhwb3J0IGNvbnN0IGZvcm1Qb3B1cEFkZCA9IGRvY3VtZW50LmZvcm1zLnBvcHVwYWRkO1xuZXhwb3J0IGNvbnN0IGVsZW1lbnRQb3B1cE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLW5hbWVcIik7XG5leHBvcnQgY29uc3QgZWxlbWVudFBvcHVwSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1kZXNjcmlwY2lvblwiKTtcbmV4cG9ydCBjb25zdCBpbnB1dFNlbGVjdG9yc1BvcHVwPXtuYW1lU2VsZWN0b3I6XCIucHJvZmlsZV9fc3VidGl0bGVcIixqb2JTZWxlY3RvcjpcIi5wcm9maWxlX190ZXh0XCJ9XG5leHBvcnQgY29uc3QgcHJvZmlsZUltYWdlPWNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2NvbnRlbnRcIik7XG5leHBvcnQgY29uc3QgY29udGVudFByb2ZpbGU9Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fY29udGVudC1mb25kXCIpO1xuZXhwb3J0IGNvbnN0IGJ0bkVkaXRJbWdQcm9maWxlPWNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J0bi1lZGl0XCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdEltZz1jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1lZGl0LWltZ1wiKTtcbmV4cG9ydCBjb25zdCBlbGVtZW50TmFtZVByb2ZpbGU9Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc3VidGl0bGVcIik7XG5leHBvcnQgY29uc3QgZWxlbWVudEpvYlByb2ZpbGU9Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGV4dFwiKTtcbmV4cG9ydCBjb25zdCBlbGVtZW50UHJvZmlsZUNvbnRJbWc9Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fY29udGVudFwiKTtcbmV4cG9ydCBjb25zdCBjYXJkPWNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIik7XG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsZWxlbWVudENsYXNzKXtcbiAgY29uc3QgZWxlbWVudEJ0bj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRDbGFzcyk7XG4gIGlmKGVsZW1lbnRDbGFzcz09PVwiLnBvcHVwLWNvbmZpcm0tZGVsZXRpb25fX2J0bi1kZWxldGVcIil7XG4gICAgaXNMb2FkaW5nID8gZWxlbWVudEJ0bi50ZXh0Q29udGVudCA9IFwiRWxpbWluYW5kbyB0YXJqZXRhLi4uXCIgOiBlbGVtZW50QnRuLnRleHRDb250ZW50ID0gXCJzaVwiO1xuICB9ZWxzZXtcbiAgICBpc0xvYWRpbmcgPyBlbGVtZW50QnRuLnRleHRDb250ZW50ID0gXCJHdWFyZGFuZG8uLi5cIiA6ZWxlbWVudEJ0bi50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiO1xuICB9XG59XG5leHBvcnQgY29uc3QgcG9wdXBGb3JtU2VsZWN0b3JzVG9WYWxpZGF0ZSA9IHtcbiAgaW5wdXRTZWxlY3RvckZvcm06IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvckZvcm06IFwiLnBvcHVwX19idG4tc2F2ZVwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzRm9ybTogXCJwb3B1cF9fYnRuLXNhdmVfZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzRm9ybTogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzRm9ybTogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG59O1xuZXhwb3J0IGNvbnN0IHBvcHVwQWRkRm9ybVNlbGVjdG9yc1RvVmFsaWRhdGUgPSB7XG4gIGlucHV0U2VsZWN0b3JGb3JtOiBcIi5wb3B1cC1hZGRfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yRm9ybTogXCIucG9wdXAtYWRkX19idG4tc2F2ZVwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzRm9ybTogXCJwb3B1cC1hZGRfX2J0bi1zYXZlX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzc0Zvcm06IFwicG9wdXAtYWRkX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3NGb3JtOiBcInBvcHVwLWFkZF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG59O1xuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdEltZ0Zvcm1Ub1ZhbGlkYXRlID0ge1xuICBpbnB1dFNlbGVjdG9yRm9ybTogXCIucG9wdXAtZWRpdC1pbWdfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yRm9ybTogXCIucG9wdXAtZWRpdC1pbWdfX2J0bi1zYXZlXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3NGb3JtOiBcInBvcHVwLWVkaXQtaW1nX19idG4tc2F2ZV9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3NGb3JtOiBcInBvcHVwLWVkaXQtaW1nX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3NGb3JtOiBcInBvcHVwLWVkaXQtaW1nX19pbnB1dC1lcnJvclwiLFxufTtcblxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5pbXBvcnQge3JlbmRlckxvYWRpbmd9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdFBvcHVwLCBzdWJtaXRDYWxsYmFjaykge1xuICAgIHN1cGVyKHNlbGVjdFBvcHVwKTtcbiAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IHN1Ym1pdENhbGxiYWNrO1xuICAgIHRoaXMuX2Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLl9wb3B1cENsYXNzfWApO1xuICB9XG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMuX3BvcHVwQ2xhc3N9X19pbnB1dGApO1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuICBzZW5kT2JqZWN0KCkge1xuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XG4gICAgdGhpcy5fc3VibWl0Q2FsbGJhY2sob2JqZWN0KTtcbiAgfVxuICBzdWJtaXRIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZih0aGlzLl9wb3B1cENsYXNzPT09XCJwb3B1cC1jb25maXJtLWRlbGV0aW9uXCIpe1xuICAgICAgcmVuZGVyTG9hZGluZyh0cnVlLGAuJHt0aGlzLl9wb3B1cENsYXNzfV9fYnRuLWRlbGV0ZWApO1xuICAgIH1lbHNle1xuICAgICAgcmVuZGVyTG9hZGluZyh0cnVlLGAuJHt0aGlzLl9wb3B1cENsYXNzfV9fYnRuLXNhdmVgKTtcbiAgICB9XG4gICAgdGhpcy5zZW5kT2JqZWN0KCk7XG4gIH07XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuc3VibWl0SGFuZGxlcik7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuc3VibWl0SGFuZGxlcik7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICBpZiAodGhpcy5fZm9ybS5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cC1hZGRcIikpIHtcbiAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgICB9XG4gIH1cbn1cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzLCBkYXRvcyB9KSB7XG4gICAgdGhpcy5fdXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9hdXRob3JpemF0aW9uID0gaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgIHRoaXMuX2NvbnRlbnRUeXBlID0gaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXTtcbiAgICB0aGlzLl9kYXRvcyA9IGRhdG9zO1xuICB9XG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IHRoaXMuX2NvbnRlbnRUeXBlLFxuICAgICAgfSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cbiAgc2V0Q2FyZCgpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBsaW5rOiB0aGlzLl9kYXRvcy5saW5rLFxuICAgICAgICBuYW1lOiB0aGlzLl9kYXRvcy5uYW1lLFxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IHRoaXMuX2NvbnRlbnRUeXBlLFxuICAgICAgfSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cbiAgbGlrZUNhcmQoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLl9jb250ZW50VHlwZSxcbiAgICAgIH0sXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG4gIGRlbGV0ZUNhcmQoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLl9jb250ZW50VHlwZSxcbiAgICAgIH0sXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG4gIGdldFVzZXIoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLl9jb250ZW50VHlwZSxcbiAgICAgIH0sXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG4gIG1vZGlmeVVzZXIoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGFib3V0OiB0aGlzLl9kYXRvcy5hYm91dCxcbiAgICAgICAgbmFtZTogdGhpcy5fZGF0b3MubmFtZSxcbiAgICAgIH0pLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLl9jb250ZW50VHlwZSxcbiAgICAgIH0sXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG4gIG1vZGlmeUltZ1VzZXIoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogdGhpcy5fZGF0b3MuYXZhdGFyLFxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IHRoaXMuX2NvbnRlbnRUeXBlLFxuICAgICAgfSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi9BcGkuanNcIjtcbmltcG9ydCB7IHJlbmRlckxvYWRpbmcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY2FyZFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZSA9IGVsZW1lbnQubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZWxlbWVudC5saW5rO1xuICAgIHRoaXMuX2lkSW1nID0gZWxlbWVudC5faWQ7XG4gICAgdGhpcy5faWRVc2VyID0gZWxlbWVudC5vd25lci5faWQ7XG4gICAgdGhpcy5fbmFtZVVzZXIgPSBlbGVtZW50Lm93bmVyLm5hbWU7XG4gICAgdGhpcy5fbGlrZXMgPSBlbGVtZW50Lmxpa2VzO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSB0aGlzLmhhbmRsZUNhcmRDbGljaztcbiAgfVxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnRuLXRyYXNoXCIpLnNldEF0dHJpYnV0ZShcImRhdGEtdXNlci1uYW1lXCIsIHRoaXMuX25hbWVVc2VyKTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIikuc2V0QXR0cmlidXRlKFwiaWQtY2FyZC1pbWdcIiwgdGhpcy5faWRJbWcpO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5fbGluayk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcIkltYWdlbiBkZSBcIiArIHRoaXMuX25hbWUpO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19zdWJ0aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtbnVtYmVyXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIGNvbnN0IHJlcyA9IHRoaXMuX2xpa2VzLmZpbmQoKHVzZXIpID0+IHVzZXIubmFtZSA9PT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19zdWJ0aXRsZVwiKS50ZXh0Q29udGVudCk7XG4gICAgcmVzID09IHVuZGVmaW5lZCA/IGNvbnNvbGUubG9nKCkgOiB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnRuLWxvdmVcIikuY2xhc3NMaXN0LmFkZChcImNhcmRfX2J0bi1sb3ZlX2FjdGl2YXRlXCIpO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG4gIF9saWtlQ2FyZEFwaVJlcXVlc3QoKSB7XG4gICAgY29uc3QgaWRJbWdMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpLmdldEF0dHJpYnV0ZShcImlkLWNhcmQtaW1nXCIpO1xuICAgIGNvbnN0IGxpa2VDYXJkQXBpID0gbmV3IEFwaSh7XG4gICAgICBiYXNlVXJsOlxuICAgICAgICBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzA5L2NhcmRzL2xpa2VzL1wiICsgaWRJbWdMaWtlLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjMzYWRlZmNjLWE3MWUtNDEwMy04NzY0LWZhYTRkMjZhNjA5OVwiLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgbGlrZUNhcmRBcGkubGlrZUNhcmQoKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLmxpa2VzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLW51bWJlclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLW51bWJlclwiKS50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBhbGVydChcIkVycm9yIGFsIGRhciBtZSBndXN0YTpcIiwgZXJyb3IpO1xuICAgICAgfSk7XG4gIH1cbiAgX3JlbW92ZUxpa2VBcGlSZXF1ZXN0KCkge1xuICAgIGNvbnN0IGlkSW1nTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5nZXRBdHRyaWJ1dGUoXCJpZC1jYXJkLWltZ1wiKTtcbiAgICBjb25zdCBkZWxldGVsaWtlQXBpID0gbmV3IEFwaSh7XG4gICAgICBiYXNlVXJsOlxuICAgICAgICBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzA5L2NhcmRzL2xpa2VzL1wiICsgaWRJbWdMaWtlLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjMzYWRlZmNjLWE3MWUtNDEwMy04NzY0LWZhYTRkMjZhNjA5OVwiLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgZGVsZXRlbGlrZUFwaS5kZWxldGVDYXJkKClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5saWtlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1udW1iZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLW51bWJlclwiKS50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBhbGVydChcIkVycm9yIG5vIHNlIHB1ZG8gcXVpdGFyIGxpa2U6XCIsIGVycm9yKTtcbiAgICAgIH0pO1xuICB9XG4gIF90b2dnbGVMaWtlKGV2dCkge1xuICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2J0bi1sb3ZlX2FjdGl2YXRlXCIpO1xuICAgIGxldCBsaWtlZDtcbiAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2J0bi1sb3ZlX2FjdGl2YXRlXCIpID8gKGxpa2VkID0gdHJ1ZSkgOiAobGlrZWQgPSBmYWxzZSk7XG4gICAgbGlrZWQgPyB0aGlzLl9saWtlQ2FyZEFwaVJlcXVlc3QoKSA6IHRoaXMuX3JlbW92ZUxpa2VBcGlSZXF1ZXN0KCk7XG4gIH1cbiAgX2RlbGV0ZUNhcmRBcGlSZXF1ZXN0KGVsZW1lbnRDYXJkKSB7XG4gICAgY29uc3QgZGVsZXRDYXJkQXBpID0gbmV3IEFwaSh7XG4gICAgICBiYXNlVXJsOlxuICAgICAgICBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzA5L2NhcmRzL1wiICtcbiAgICAgICAgZWxlbWVudENhcmQuZ2V0QXR0cmlidXRlKFwiaWQtY2FyZC1pbWdcIiksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiMzNhZGVmY2MtYTcxZS00MTAzLTg3NjQtZmFhNGQyNmE2MDk5XCIsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gZGVsZXRDYXJkQXBpLmRlbGV0ZUNhcmQoKTtcbiAgfVxuICBfdHJhc2hDYXJkKGV2dCkge1xuICAgIGNvbnN0IHBvcHVwQ29uZmlybURlbGV0aW9uID0gbmV3IFBvcHVwV2l0aEZvcm0oXCJwb3B1cC1jb25maXJtLWRlbGV0aW9uXCIsXG4gICAgICAoZm9ybURhdGEpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudENhcmQgPSBldnQudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgdGhpcy5fZGVsZXRlQ2FyZEFwaVJlcXVlc3QoZWxlbWVudENhcmQpXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgbGV0IHBhcmVudE5vZG8gPSBldnQudGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICBwYXJlbnROb2RvLnJlbW92ZSgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgYWxlcnQoXCJFcnJvciBubyBzZSBwdWRvIGVsaW1pbmFyIGxhIHRhcmpldGFcIiwgZXJyb3IpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgcmVuZGVyTG9hZGluZyhmYWxzZSwgXCIucG9wdXAtY29uZmlybS1kZWxldGlvbl9fYnRuLWRlbGV0ZVwiKTtcbiAgICAgICAgICAgIHBvcHVwQ29uZmlybURlbGV0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICBwb3B1cENvbmZpcm1EZWxldGlvbi5vcGVuKCk7XG4gIH1cbiAgX2Rpc3BsYXlDb250YWluZXJJbWFnZShldnQpIHtcbiAgICBvcGVuV2luZG93Q29udGVudEltYWdlKGV2dCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGNsb3NlV2luZG93ZEVzYyk7XG4gIH1cbiAgaGFuZGxlQ2FyZENsaWNrKGV2dCkge1xuICAgIGNvbnN0IHJlcyA9IG5ldyBQb3B1cFdpdGhJbWFnZShcImJpZy1waWN0dXJlXCIsIGV2dCk7XG4gICAgcmVzLm9wZW4oKTtcbiAgfVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fYnRuLWxvdmVcIikpIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlTGlrZShldnQpO1xuICAgICAgfSBlbHNlIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2J0bi10cmFzaFwiKSkge1xuICAgICAgICB0aGlzLl90cmFzaENhcmQoZXZ0KTtcbiAgICAgIH0gZWxzZSBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19pbWFnZVwiKSkge1xuICAgICAgICB0aGlzLmhhbmRsZUNhcmRDbGljayhldnQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZGF0b3MsIGZvcm1TZWxlY3Rvcikge1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yRm9ybSA9IGRhdG9zLmlucHV0U2VsZWN0b3JGb3JtO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gZGF0b3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzc0Zvcm0gPSBkYXRvcy5pbmFjdGl2ZUJ1dHRvbkNsYXNzRm9ybTtcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3NGb3JtID0gZGF0b3MuaW5wdXRFcnJvckNsYXNzRm9ybTtcbiAgICB0aGlzLl9lcnJvckNsYXNzRm9ybSA9IGRhdG9zLmVycm9yQ2xhc3NGb3JtO1xuICB9XG4gIF9zaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzRm9ybSk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzc0Zvcm0pO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgfVxuICBfaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3NGb3JtKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzRm9ybSk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoXG4gICAgICAgIGZvcm1FbGVtZW50LFxuICAgICAgICBpbnB1dEVsZW1lbnQsXG4gICAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzRm9ybSk7XG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3NGb3JtKTtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9mb3JtU2VsZWN0b3IpO1xuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3JGb3JtKVxuICAgICk7XG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25bdHlwZT1zdWJtaXRdXCIpO1xuICAgIGlmIChgLiR7YnV0dG9uRWxlbWVudC5jbGFzc05hbWV9YCA9PT0gXCIucG9wdXAtYWRkX19idG4tc2F2ZVwiKSB7XG4gICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuICAgIH1lbHNlIGlmKGAuJHtidXR0b25FbGVtZW50LmNsYXNzTmFtZX1gID09PSBcIi5wb3B1cC1lZGl0LWltZ19fYnRuLXNhdmVcIikge1xuICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcbiAgICB9XG5cbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgcmVuZGVyZXIgfSxjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBkYXRhO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgfVxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLmpvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgfVxuICBnZXRVc2VySW5mbygpIHtcbiAgICBjb25zdCB1c2VySW5mbyA9IHtcbiAgICAgIG5hbWU6IHRoaXMubmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5qb2JFbGVtZW50LnRleHRDb250ZW50LFxuICAgIH07XG4gICAgcmV0dXJuIHVzZXJJbmZvO1xuICB9XG4gIHNldFVzZXJJbmZvKG5ld1VzZXJJbmZvKSB7XG4gICAgdGhpcy5uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5ld1VzZXJJbmZvLm5hbWU7XG4gICAgdGhpcy5qb2JFbGVtZW50LnRleHRDb250ZW50ID0gbmV3VXNlckluZm8uYWJvdXQ7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vc3R5bGVzL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCB7XG4gIGJ0bkVkaXRhclByb2ZpbGUsXG4gIGJ0bkFkZENhcmQsXG4gIGNhcmRzLFxuICBlbGVtZW50UG9wdXBOYW1lLFxuICBlbGVtZW50UG9wdXBKb2IsXG4gIGlucHV0U2VsZWN0b3JzUG9wdXAsXG4gIHBvcHVwRm9ybVNlbGVjdG9yc1RvVmFsaWRhdGUsXG4gIHBvcHVwQWRkRm9ybVNlbGVjdG9yc1RvVmFsaWRhdGUsXG4gIHBvcHVwRWRpdEltZ0Zvcm1Ub1ZhbGlkYXRlLFxuICBwcm9maWxlSW1hZ2UsXG4gIGVsZW1lbnRQcm9maWxlQ29udEltZyxcbiAgY29udGVudFByb2ZpbGUsXG4gIGJ0bkVkaXRJbWdQcm9maWxlLFxuICBlbGVtZW50TmFtZVByb2ZpbGUsXG4gIGVsZW1lbnRKb2JQcm9maWxlLFxuICByZW5kZXJMb2FkaW5nLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmNvbnN0IGZvcm1Qcm9maWxlID0gbmV3IEZvcm1WYWxpZGF0b3IocG9wdXBGb3JtU2VsZWN0b3JzVG9WYWxpZGF0ZSwgXCIucG9wdXBcIik7XG5jb25zdCBmb3JtQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKHBvcHVwQWRkRm9ybVNlbGVjdG9yc1RvVmFsaWRhdGUsXCIucG9wdXAtYWRkXCIpO1xuY29uc3QgZm9ybUVkaXRJbWcgPSBuZXcgRm9ybVZhbGlkYXRvcihwb3B1cEVkaXRJbWdGb3JtVG9WYWxpZGF0ZSxcIi5wb3B1cC1lZGl0LWltZ1wiKTtcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKGlucHV0U2VsZWN0b3JzUG9wdXApO1xuY29uc3QgYXBpR2V0Q2FyZHMgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wOS9jYXJkc1wiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCIzM2FkZWZjYy1hNzFlLTQxMDMtODc2NC1mYWE0ZDI2YTYwOTlcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuY29uc3QgdW93blVzZXIgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wOS91c2Vycy9tZVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCIzM2FkZWZjYy1hNzFlLTQxMDMtODc2NC1mYWE0ZDI2YTYwOTlcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xudW93blVzZXIuZ2V0VXNlcigpXG4gIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgIGVsZW1lbnROYW1lUHJvZmlsZS50ZXh0Q29udGVudCA9IHVzZXJEYXRhLm5hbWU7XG4gICAgZWxlbWVudEpvYlByb2ZpbGUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5hYm91dDtcbiAgICBlbGVtZW50UHJvZmlsZUNvbnRJbWcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHt1c2VyRGF0YS5hdmF0YXJ9JylgO1xuICB9KVxuICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgYWxlcnQoXCJFcnJvciBhbCBjYXJnYXIgbGEgaW5mb3JtYWNpw7NuIGRlbCB1c3VhcmlvOlwiLCBlcnJvcik7XG4gIH0pO1xuZnVuY3Rpb24gYWRkQ2FyZHMoaW5pdGlhbENhcmRzKSB7XG4gIGNvbnN0IGluc2VydENhcmQgPSBuZXcgU2VjdGlvbihcbiAgICB7XG4gICAgICBkYXRhOiBpbml0aWFsQ2FyZHMsXG4gICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgXCIuY2FyZC10ZW1wbGF0ZVwiKTtcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICAgICAgICBjb25zdCBuYW1lVXNlciA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnRuLXRyYXNoXCIpLmdldEF0dHJpYnV0ZShcImRhdGEtdXNlci1uYW1lXCIpO1xuICAgICAgICBjb25zdCBsaWtlcyA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1udW1iZXJcIikudGV4dENvbnRlbnQ7XG4gICAgICAgIGlmKGVsZW1lbnROYW1lUHJvZmlsZS50ZXh0Q29udGVudCE9PW5hbWVVc2VyKSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J0bi10cmFzaFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGlmIChsaWtlcyA9PSAwKSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtbnVtYmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgaW5zZXJ0Q2FyZC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjYXJkc1xuICApO1xuICBpbnNlcnRDYXJkLnJlbmRlckl0ZW1zKCk7XG59XG5mdW5jdGlvbiBjcmVhdGVDYXJkcygpIHtcbiAgYXBpR2V0Q2FyZHMuZ2V0SW5pdGlhbENhcmRzKClcbiAgICAudGhlbigoaW5pdGlhbENhcmRzKSA9PiB7XG4gICAgICBhZGRDYXJkcyhpbml0aWFsQ2FyZHMpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgYWxlcnQoXCJFcnJvciBhbCBjYXJnYXIgbGEgaW5mb3JtYWNpw7NuIGRlIGxhcyB0YXJqZXRhczpcIiwgZXJyb3IpO1xuICAgIH0pO1xufVxuY3JlYXRlQ2FyZHMoKTtcbmNvbnN0IHBvcHVwQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwicG9wdXAtYWRkXCIsIChmb3JtRGF0YSkgPT4ge1xuICBjb25zdCBhcGlJbnNlcnRDYXJkID0gbmV3IEFwaSh7XG4gICAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wOS9jYXJkc1wiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIGF1dGhvcml6YXRpb246IFwiMzNhZGVmY2MtYTcxZS00MTAzLTg3NjQtZmFhNGQyNmE2MDk5XCIsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9LFxuICAgIGRhdG9zOiB7XG4gICAgICBsaW5rOiBmb3JtRGF0YS5saW5rLFxuICAgICAgbmFtZTogZm9ybURhdGEubmFtZSxcbiAgICB9LFxuICB9KTtcbiAgYXBpSW5zZXJ0Q2FyZC5zZXRDYXJkKClcbiAgICAudGhlbigoaW5pdGlhbENhcmRzKSA9PiB7XG4gICAgICBjcmVhdGVDYXJkcygpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgYWxlcnQoXCJFcnJvciBhbCBlbnZpYXIgbGEgdGFyamV0YSBubyBzZSBwdWRvIGNhcmdhcjpcIiwgZXJyb3IpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcmVuZGVyTG9hZGluZyhmYWxzZSwgXCIucG9wdXAtYWRkX19idG4tc2F2ZVwiKTtcbiAgICAgIHBvcHVwQ2FyZC5jbG9zZSgpO1xuICAgIH0pO1xufSk7XG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcInBvcHVwXCIsIChkYXRvcykgPT4ge1xuICBjb25zdCBlZGl0VXNlciA9IG5ldyBBcGkoe1xuICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMDkvdXNlcnMvbWVcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBhdXRob3JpemF0aW9uOiBcIjMzYWRlZmNjLWE3MWUtNDEwMy04NzY0LWZhYTRkMjZhNjA5OVwiLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfSxcbiAgICBkYXRvczoge1xuICAgICAgYWJvdXQ6IGRhdG9zLmFib3V0LFxuICAgICAgbmFtZTogZGF0b3MubmFtZSxcbiAgICB9LFxuICB9KTtcbiAgZWRpdFVzZXJcbiAgICAubW9kaWZ5VXNlcigpXG4gICAgLnRoZW4oKGRhdG9Vc2VyRWRpdCkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0b1VzZXJFZGl0KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIGFsZXJ0KFwiTG8gc2llbnRvIG5vIHNlIHB1ZG8gbW9kaWZpY2FyIGxhIGluZm9ybWFjaW9uOlwiICsgZXJyb3IpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcmVuZGVyTG9hZGluZyhmYWxzZSwgXCIucG9wdXBfX2J0bi1zYXZlXCIpO1xuICAgICAgcG9wdXBQcm9maWxlLmNsb3NlKCk7XG4gICAgfSk7XG59KTtcbmNvbnN0IHBvcHVwRWRpdEltZyA9IG5ldyBQb3B1cFdpdGhGb3JtKFwicG9wdXAtZWRpdC1pbWdcIiwgKGZvcm1EYXRhKSA9PiB7XG4gIGNvbnN0IGVkaXRJbWdVc2VyID0gbmV3IEFwaSh7XG4gICAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wOS91c2Vycy9tZS9hdmF0YXJcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBhdXRob3JpemF0aW9uOiBcIjMzYWRlZmNjLWE3MWUtNDEwMy04NzY0LWZhYTRkMjZhNjA5OVwiLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfSxcbiAgICBkYXRvczoge1xuICAgICAgYXZhdGFyOiBmb3JtRGF0YS5saW5rLFxuICAgIH0sXG4gIH0pO1xuICBlZGl0SW1nVXNlci5tb2RpZnlJbWdVc2VyKClcbiAgICAudGhlbigobW9kaWZ5SW1nVXNlcikgPT4ge1xuICAgICAgZWxlbWVudFByb2ZpbGVDb250SW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7bW9kaWZ5SW1nVXNlci5hdmF0YXJ9JylgO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgYWxlcnQoXCJMbyBzaWVudG8gb2N1cnJpbyB1biBlcnJvcjpcIiArIGVycm9yKVxuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcmVuZGVyTG9hZGluZyhmYWxzZSwgXCIucG9wdXAtZWRpdC1pbWdfX2J0bi1zYXZlXCIpO1xuICAgICAgcG9wdXBFZGl0SW1nLmNsb3NlKCk7XG4gICAgfSk7XG59KTtcbmJ0bkVkaXRhclByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgZ2V0VXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBlbGVtZW50UG9wdXBOYW1lLnZhbHVlID0gZ2V0VXNlckRhdGEubmFtZTtcbiAgZWxlbWVudFBvcHVwSm9iLnZhbHVlID0gZ2V0VXNlckRhdGEuYWJvdXQ7XG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XG4gIGZvcm1Qcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcbn0pO1xuYnRuQWRkQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBwb3B1cENhcmQub3BlbigpO1xuICBmb3JtQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XG59KTtcbmJ0bkVkaXRJbWdQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIHBvcHVwRWRpdEltZy5vcGVuKCk7XG4gIGZvcm1FZGl0SW1nLmVuYWJsZVZhbGlkYXRpb24oKTtcbn0pO1xucHJvZmlsZUltYWdlLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKCkge1xuICBjb250ZW50UHJvZmlsZS5jbGFzc0xpc3QuYWRkKFwicHJvZmlsZV9fY29udGVudC1mb25kX29wZW5lZFwiKTtcbn07XG5wcm9maWxlSW1hZ2Uub25tb3VzZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgY29udGVudFByb2ZpbGUuY2xhc3NMaXN0LnJlbW92ZShcInByb2ZpbGVfX2NvbnRlbnQtZm9uZF9vcGVuZWRcIik7XG59OyJdLCJuYW1lcyI6WyJQb3B1cCIsInNlbGVjdFBvcHVwIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9wb3B1cENsYXNzIiwiX3NlbGVjdFBvcHVwIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29uY2F0IiwiX2Nsb3NlQnV0dG9uIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImtleSIsInZhbHVlIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90aGlzIiwiY2xvc2UiLCJldnQiLCJ0YXJnZXQiLCJjb250YWlucyIsImV2ZW50IiwiUG9wdXBXaXRoSW1hZ2UiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJjYWxsIiwiX2NhcmQiLCJfZWxlbWVudE5hbWUiLCJfZWxlbWVudEltZyIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJsaW5rIiwiZ2V0QXR0cmlidXRlIiwiYWx0IiwiY2l0eSIsInN1YnN0cmluZyIsImxlbmciLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImNvbnRhaW5lciIsImJ0bkVkaXRhclByb2ZpbGUiLCJidG5BZGRDYXJkIiwiY2FyZHMiLCJlbGVtZW50UG9wdXBOYW1lIiwiZm9ybXMiLCJwb3B1cGFkZCIsImVsZW1lbnRQb3B1cEpvYiIsInByb2ZpbGVJbWFnZSIsImNvbnRlbnRQcm9maWxlIiwiYnRuRWRpdEltZ1Byb2ZpbGUiLCJlbGVtZW50TmFtZVByb2ZpbGUiLCJlbGVtZW50Sm9iUHJvZmlsZSIsImVsZW1lbnRQcm9maWxlQ29udEltZyIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJlbGVtZW50Q2xhc3MiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0Q2FsbGJhY2siLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwicHJldmVudERlZmF1bHQiLCJzZW5kT2JqZWN0IiwiX3N1Ym1pdENhbGxiYWNrIiwiX2Zvcm0iLCJfdGhpczIiLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9mb3JtVmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwibmFtZSIsIm9iamVjdCIsIl9nZXRJbnB1dFZhbHVlcyIsInN1Ym1pdEhhbmRsZXIiLCJyZXNldCIsIkFwaSIsIl9yZWYiLCJiYXNlVXJsIiwiaGVhZGVycyIsImRhdG9zIiwiX3VybCIsIl9hdXRob3JpemF0aW9uIiwiYXV0aG9yaXphdGlvbiIsIl9jb250ZW50VHlwZSIsIl9kYXRvcyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiYXZhdGFyIiwiQ2FyZCIsImVsZW1lbnQiLCJjYXJkU2VsZWN0b3IiLCJfbmFtZSIsIl9saW5rIiwiX2lkSW1nIiwiX2lkIiwiX2lkVXNlciIsIm93bmVyIiwiX25hbWVVc2VyIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsImhhbmRsZUNhcmRDbGljayIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImZpbmQiLCJ1c2VyIiwiY29uc29sZSIsImxvZyIsImlkSW1nTGlrZSIsImxpa2VDYXJkIiwic3R5bGUiLCJkaXNwbGF5IiwiY2F0Y2giLCJlcnJvciIsImFsZXJ0IiwiZGVsZXRlQ2FyZCIsInRvZ2dsZSIsIl9saWtlQ2FyZEFwaVJlcXVlc3QiLCJfcmVtb3ZlTGlrZUFwaVJlcXVlc3QiLCJlbGVtZW50Q2FyZCIsIl90aGlzMyIsInBvcHVwQ29uZmlybURlbGV0aW9uIiwiZm9ybURhdGEiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJfZGVsZXRlQ2FyZEFwaVJlcXVlc3QiLCJwYXJlbnROb2RlIiwiZmluYWxseSIsIm9wZW4iLCJvcGVuV2luZG93Q29udGVudEltYWdlIiwiY2xvc2VXaW5kb3dkRXNjIiwiX3RoaXM0IiwiX3RvZ2dsZUxpa2UiLCJfdHJhc2hDYXJkIiwiRm9ybVZhbGlkYXRvciIsImZvcm1TZWxlY3RvciIsIl9mb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvckZvcm0iLCJpbnB1dFNlbGVjdG9yRm9ybSIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3NGb3JtIiwiaW5hY3RpdmVCdXR0b25DbGFzc0Zvcm0iLCJfaW5wdXRFcnJvckNsYXNzRm9ybSIsImlucHV0RXJyb3JDbGFzc0Zvcm0iLCJfZXJyb3JDbGFzc0Zvcm0iLCJlcnJvckNsYXNzRm9ybSIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIkFycmF5IiwiZnJvbSIsImNsYXNzTmFtZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJkYXRhIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJhcHBlbmQiLCJpbm5lckhUTUwiLCJpdGVtIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsIm5hbWVFbGVtZW50Iiwiam9iRWxlbWVudCIsIm5ld1VzZXJJbmZvIiwiZm9ybVByb2ZpbGUiLCJzdWJtaXRCdXR0b25TZWxlY3RvckZvcm0iLCJmb3JtQ2FyZCIsImZvcm1FZGl0SW1nIiwidXNlckluZm8iLCJhcGlHZXRDYXJkcyIsImNyZWF0ZUNhcmRzIiwiZ2V0SW5pdGlhbENhcmRzIiwiaW5pdGlhbENhcmRzIiwiaW5zZXJ0Q2FyZCIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwibmFtZVVzZXIiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJhZGRDYXJkcyIsImdldFVzZXIiLCJ1c2VyRGF0YSIsImJhY2tncm91bmRJbWFnZSIsInBvcHVwQ2FyZCIsInNldENhcmQiLCJwb3B1cFByb2ZpbGUiLCJtb2RpZnlVc2VyIiwiZGF0b1VzZXJFZGl0Iiwic2V0VXNlckluZm8iLCJwb3B1cEVkaXRJbWciLCJtb2RpZnlJbWdVc2VyIiwiZ2V0VXNlckRhdGEiLCJnZXRVc2VySW5mbyIsImVuYWJsZVZhbGlkYXRpb24iLCJvbm1vdXNlb3ZlciIsIm9ubW91c2VvdXQiXSwic291cmNlUm9vdCI6IiJ9